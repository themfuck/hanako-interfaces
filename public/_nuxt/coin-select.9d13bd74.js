import{a as ue,O as Ie,P as Ne,Q as V,R as ee,q as d,U as te,V as oe,W as h,X as c,Y as Oe,Z as $,$ as Ae,a0 as $e,a1 as Pe,a2 as de,a3 as ne,a4 as Be,a5 as Fe,a6 as Re,L as ze,G as De,r as P,b as ae,e as B,J as Me,I as je,a7 as W,h as We,a8 as Ze,K as se,a9 as qe,i as Ee,aa as E,l as Ue,ab as U,o as b,c as Ge,w as Z,p as f,D as Ke,ac as Je,m as k,v as le,ad as re,ae as ce,s as ie,t as R,af as Qe,y as Xe,z as Ye}from"./entry.5826856b.js";import{_ as He}from"./img-no-Positions_2x.7a5d8c0c.js";import{_ as Ve}from"./img-no-Positions_2x.46d8a631.js";function F(t){return typeof t=="function"?t():t}const et=ue({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName"],setup:function(e,s){var C=s.attrs,m=Ie("Modal"),y=Ne(m,1),_=y[0];return function(){var g=e.icon,S=e.onCancel,p=e.onOk,n=e.close,a=e.closable,l=a===void 0?!1:a,v=e.zIndex,w=e.afterClose,I=e.visible,N=e.keyboard,L=e.centered,G=e.getContainer,r=e.maskStyle,O=e.okButtonProps,M=e.cancelButtonProps,x=e.okCancel,u=x===void 0?!0:x,o=e.width,i=o===void 0?416:o,A=e.mask,me=A===void 0?!0:A,K=e.maskClosable,ve=K===void 0?!1:K,J=e.type,Q=e.title,Ce=e.content,be=e.direction,ke=e.closeIcon,ye=e.modalRender,_e=e.focusTriggerAfterClose,j=e.rootPrefixCls,pe=e.bodyStyle,he=e.wrapClassName,we=e.okType||"primary",q=e.prefixCls||"ant-modal",T="".concat(q,"-confirm"),ge=C.style||{},Te=F(e.okText)||(u?_.value.okText:_.value.justOkText),xe=F(e.cancelText)||_.value.cancelText,X=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",Se=V(T,"".concat(T,"-").concat(J),"".concat(q,"-").concat(J),ee({},"".concat(T,"-rtl"),be==="rtl"),C.class),Le=u&&d(te,{actionFn:S,close:n,autofocus:X==="cancel",buttonProps:M,prefixCls:"".concat(j,"-btn")},{default:function(){return[xe]}});return d(h,{prefixCls:q,class:Se,wrapClassName:V(ee({},"".concat(T,"-centered"),!!L),he),onCancel:function(H){return n({triggerCancel:!0},H)},visible:I,title:"",footer:"",transitionName:oe(j,"zoom",e.transitionName),maskTransitionName:oe(j,"fade",e.maskTransitionName),mask:me,maskClosable:ve,maskStyle:r,style:ge,bodyStyle:pe,width:i,zIndex:v,afterClose:w,keyboard:N,centered:L,getContainer:G,closable:l,closeIcon:ke,modalRender:ye,focusTriggerAfterClose:_e},{default:function(){return[d("div",{class:"".concat(T,"-body-wrapper")},[d("div",{class:"".concat(T,"-body")},[F(g),Q===void 0?null:d("span",{class:"".concat(T,"-title")},[F(Q)]),d("div",{class:"".concat(T,"-content")},[F(Ce)])]),d("div",{class:"".concat(T,"-btns")},[Le,d(te,{type:we,actionFn:p,close:n,autofocus:X==="ok",buttonProps:O,prefixCls:"".concat(j,"-btn")},{default:function(){return[Te]}})])])]}})}}});var tt=function(e){var s=document.createDocumentFragment(),C=c(c({},Oe(e,["parentContext","appContext"])),{},{close:_,visible:!0}),m=null;function y(){m&&(ne(null,s),m.component.update(),m=null);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];var v=a.some(function(N){return N&&N.triggerCancel});e.onCancel&&v&&e.onCancel.apply(e,a);for(var w=0;w<$.length;w++){var I=$[w];if(I===_){$.splice(w,1);break}}}function _(){for(var n=this,a=arguments.length,l=new Array(a),v=0;v<a;v++)l[v]=arguments[v];C=c(c({},C),{},{visible:!1,afterClose:function(){typeof e.afterClose=="function"&&e.afterClose(),y.apply(n,l)}}),g(C)}function g(n){typeof n=="function"?C=n(C):C=c(c({},C),n),m&&(Be(m.component.props,C),m.component.update())}var S=function(a){var l=Re,v=l.prefixCls,w=a.prefixCls||"".concat(v,"-modal");return d(Fe,c(c({},l),{},{notUpdateGlobalConfig:!0,prefixCls:v}),{default:function(){return[d(et,c(c({},a),{},{rootPrefixCls:v,prefixCls:w}),null)]}})};function p(n){var a=d(S,c({},n));return a.appContext=e.parentContext||e.appContext||a.appContext,ne(a,s),a}return m=p(C),$.push(_),{destroy:_,update:g}};const z=tt;function ot(t){return c(c({icon:function(){return d(de,null,null)},okCancel:!1},t),{},{type:"warning"})}function nt(t){return c(c({icon:function(){return d(Ae,null,null)},okCancel:!1},t),{},{type:"info"})}function at(t){return c(c({icon:function(){return d($e,null,null)},okCancel:!1},t),{},{type:"success"})}function st(t){return c(c({icon:function(){return d(Pe,null,null)},okCancel:!1},t),{},{type:"error"})}function lt(t){return c(c({icon:function(){return d(de,null,null)},okCancel:!0},t),{},{type:"confirm"})}function fe(t){return z(ot(t))}h.info=function(e){return z(nt(e))};h.success=function(e){return z(at(e))};h.error=function(e){return z(st(e))};h.warning=fe;h.warn=fe;h.confirm=function(e){return z(lt(e))};h.destroyAll=function(){for(;$.length;){var e=$.pop();e&&e()}};h.install=function(t){return t.component(h.name,h),t};const rt=ue({components:{Modal:h,LoadingOutlined:ze},props:{existingCoins:{type:String,default:""},lastSelectCoin:{type:String,default:""}},setup(t,e){const{t:s}=De(),C=P([s("tab.all"),s("tab.native"),s("tab.layerZero"),s("tab.wormhole"),s("tab.celer")]),m=P(s("tab.all")),y=P(""),_=ae(),g=B(()=>_.chainName),S=Me(),p=B(()=>S),n=je(),a=B(()=>n),l=P([]),v=P(null),w=ae(),I=B(()=>p.value.assets),N=B(()=>w);W(()=>a.value.tokens,r=>{E(r)||(l.value=Object.values(r))},{immediate:!0}),W(v,r=>{L(r)}),W(m,r=>{r==s("tab.all")?y.value=s("tab.all"):r==s("tab.layerZero")?y.value=s("tab.layerZero"):r==s("tab.wormhole")?y.value=s("tab.wormhole"):r==s("tab.celer")?y.value=s("tab.celer"):r==s("tab.native")&&(y.value=s("tab.native")),L(v.value)}),W(()=>a.value.tokens,r=>{E(r)||(l.value=Object.values(r))},{immediate:!0}),We(()=>{L("")});const L=r=>{let O=[];const M={...a.value.tokens};for(const u of Object.keys(M)){let o=Ze(M[u]);o.symbol.toUpperCase()==="SUI"&&g.value!=="Aptos"?o.sortToken=!0:o.sortToken=!1,t.lastSelectCoin&&o&&o.symbol===t.lastSelectCoin?o.unusable=!0:o.unusable=!1;const i=p.value.assets&&p.value.assets[o.address]&&Number(se(p.value.assets[o.address].balance,o.decimals))||0;o={...o,balance:i},O.push(o)}let x;if(p.value.address?x=O.sort((u,o)=>u.symbol.charCodeAt(0)-o.symbol.charCodeAt(0)).sort((u,o)=>o.balance-u.balance):x=O.sort((u,o)=>u.symbol.charCodeAt(0)-o.symbol.charCodeAt(0)),r){const u=x.filter(o=>o.symbol.toLowerCase().indexOf(r.toLowerCase())!==-1||o.address.toLowerCase().indexOf(r.toLowerCase())!==-1);if(m.value){const o=u.filter(i=>m.value=="Native"?i.name.toLowerCase().indexOf("z")==-1&&i.name.toLowerCase().indexOf("wo")==-1&&i.name.toLowerCase().indexOf("ce")==-1:i.name.toLowerCase().includes(y.value.toLowerCase()));l.value=o.sort((i,A)=>A.sortToken-i.sortToken).sort((i,A)=>A.unusable-i.unusable)}else l.value=u.sort((o,i)=>i.sortToken-o.sortToken).sort((o,i)=>i.unusable-o.unusable)}else if(m.value){const u=x.filter(o=>m.value=="Native"?o.name.toLowerCase().indexOf("z")==-1&&o.name.toLowerCase().indexOf("wo")==-1&&o.name.toLowerCase().indexOf("ce")==-1:o.name.toLowerCase().includes(y.value.toLowerCase()));l.value=u.sort((o,i)=>i.sortToken-o.sortToken).sort((o,i)=>i.unusable-o.unusable)}else l.value=x.sort((u,o)=>o.sortToken-u.sortToken).sort((u,o)=>o.unusable-u.unusable)};return qe(()=>{E(a.value.tokens)||L("")}),{chainName:g,tabList:C,currentTab:m,tokenList:l,importIcon:Ee,keyword:v,wallet:p,toSelect:(r,O)=>{e.emit("onSelect",r),e.emit("onClose")},store:N,assets:I,prettyAmount:se}}});const D=t=>(Xe("data-v-bf9c9425"),t=t(),Ye(),t),ct=D(()=>f("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[f("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),it={class:"coin-select-modal"},ut={class:"search-input"},dt=["placeholder"],ft=D(()=>f("use",{"xlink:href":"#icon-a-icon-Shutdown"},null,-1)),mt=[ft],vt={key:0,class:"tab-list"},Ct=["onClick"],bt={class:"item"},kt=D(()=>f("div",{class:"line"},null,-1)),yt={class:"coin-list-box"},_t={key:0,class:"coin-list"},pt=["onClick"],ht={class:"left"},wt=["src"],gt={class:"name-box"},Tt={class:"balance-box"},xt={class:"balance"},St={key:0},Lt={key:1},It={key:2},Nt=D(()=>f("p",null,null,-1)),Ot={key:1,class:"no-data"},At={key:0,src:He},$t={key:1,src:Ve},Pt=D(()=>f("p",null,R("No tokens found"),-1));function Bt(t,e,s,C,m,y){const _=U("loading-outlined"),g=Qe,S=U("vue-scroll"),p=U("Modal");return b(),Ge(p,{title:t.$t("modal.selectTokenModalTitle"),class:"select-mod",width:400,centered:"",visible:!0,footer:null,onCancel:e[2]||(e[2]=n=>t.$emit("onClose"))},{closeIcon:Z(()=>[ct]),default:Z(()=>[f("div",it,[f("div",ut,[Ke(f("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>t.keyword=n),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:t.$t("inputPlaceholder.selectTokenModalPlaceholder")},null,8,dt),[[Je,t.keyword]]),t.keyword?(b(),k("svg",{key:0,class:"clear-icon icon modal-icon-close","aria-hidden":"true",onClick:e[1]||(e[1]=n=>t.keyword="")},mt)):le("",!0)]),t.chainName==="Aptos"?(b(),k("div",vt,[(b(!0),k(re,null,ce(t.tabList,(n,a)=>(b(),k("div",{key:a,class:ie(["item-container",t.currentTab==n?"item-container-active item-container":"item-container"]),onClick:l=>t.currentTab=n},[f("div",bt,R(n),1)],10,Ct))),128))])):le("",!0),kt,f("div",yt,[d(S,null,{default:Z(()=>[t.tokenList&&t.tokenList.length>0?(b(),k("ul",_t,[(b(!0),k(re,null,ce(t.tokenList,(n,a)=>(b(),k("li",{key:a,class:ie(n.unusable?"unusable":""),onClick:l=>t.toSelect(n)},[f("div",ht,[f("img",{src:n.icon||n.logoURI||t.importIcon(`/image/coins/${n.symbol.toLowerCase()}.png`)},null,8,wt),f("div",gt,[f("span",null,R(n.symbol),1),f("p",null,R(n.name),1)])]),f("div",Tt,[f("div",xt,[t.wallet.loading?(b(),k("div",St,[d(g,null,{default:Z(()=>[d(_)]),_:1})])):t.wallet.connected&&t.assets[n.address]?(b(),k("div",Lt,R(t.prettyAmount(t.assets[n.address].balance,n.decimals)),1)):(b(),k("div",It,"0"))]),Nt])],10,pt))),128))])):(b(),k("div",Ot,[t.store.theme=="default"?(b(),k("img",At)):(b(),k("img",$t)),Pt]))]),_:1})])])]),_:1},8,["title"])}const Dt=Ue(rt,[["render",Bt],["__scopeId","data-v-bf9c9425"]]);export{Dt as _};
